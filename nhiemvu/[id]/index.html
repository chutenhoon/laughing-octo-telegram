<!DOCTYPE html>
<html lang="vi">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <title data-i18n-key="task.detail.pageTitle">Task detail | polyflux.xyz</title>
    <link rel="apple-touch-icon" sizes="180x180" href="../../apple-touch-icon.png" />
    <link rel="icon" type="image/png" sizes="32x32" href="../../favicon-32x32.png" />
    <link rel="icon" type="image/png" sizes="16x16" href="../../favicon-16x16.png" />
    <link rel="icon" type="image/png" sizes="192x192" href="../../android-chrome-192x192.png" />
    <link rel="icon" type="image/png" sizes="512x512" href="../../android-chrome-512x512.png" />
    <link rel="manifest" href="../../site.webmanifest" />
    <link rel="icon" href="../../favicon.ico" />
    <meta name="description" content="S&#224;n th&#432;&#417;ng m&#7841;i &#273;i&#7879;n t&#7917; uy t&#237;n, giao nhanh, b&#7843;o h&#224;nh r&#245; r&#224;ng, h&#7895; tr&#7907; 24/7." />
    <meta property="og:title" content="polyflux.xyz" />
    <meta property="og:description" content="S&#224;n th&#432;&#417;ng m&#7841;i &#273;i&#7879;n t&#7917; uy t&#237;n, giao nhanh, b&#7843;o h&#224;nh r&#245; r&#224;ng, h&#7895; tr&#7907; 24/7." />
    <meta property="og:image" content="../../asset/logo-preview.png" />
    <meta property="og:type" content="website" />
    <meta property="og:locale" content="vi_VN" />
    <meta property="og:site_name" content="polyflux.xyz" />
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="polyflux.xyz" />
    <meta name="twitter:description" content="S&#224;n th&#432;&#417;ng m&#7841;i &#273;i&#7879;n t&#7917; uy t&#237;n, giao nhanh, b&#7843;o h&#224;nh r&#245; r&#224;ng, h&#7895; tr&#7907; 24/7." />
    <meta name="twitter:image" content="../../asset/logo-preview.png" />
<link rel="stylesheet" href="../../asset/base.css" />
  </head>
  <body>
    <video class="video-bg" autoplay muted loop playsinline preload="metadata">
      <source src="../../asset/bg-donut.mp4" type="video/mp4" />
    </video>
    <div class="video-overlay"></div>

    <header class="wrap">
      <nav class="nav glass">
        <a href="/" class="brand" style="display: flex; align-items: center; gap: 12px; text-decoration: none;">
          <img src="../../asset/logo.png" alt="PolyFlux" />
          <span>polyflux<b>.xyz</b></span>
        </a>
        <div class="nav-links">
          <a href="/sanpham/" data-nav="sanpham">S&#7843;n Ph&#7849;m <span class="badge">HOT</span></a>
          <a href="/dichvu/" data-nav="dichvu">D&#7883;ch V&#7909;</a>
          <a href="/nhiemvu/" data-nav="nhiemvu">Nhi&#7879;m V&#7909;</a>
          <a href="/profile/topups/" data-nav="topups">N&#7841;p ti&#7873;n</a>
        </div>
        <div class="nav-actions">
                    <button class="btn balance-btn" data-balance type="button">0 VND</button>
          <a class="btn login-btn" href="/login/">Login</a>
        </div>
      </nav>
    </header>

    <main class="wrap">
      <section class="hero">
        <h1 class="hero-title" id="task-title" data-i18n-key="task.detail.hero.loadingTitle">Loading details...</h1>
        <p class="hero-sub" id="task-sub" data-i18n-key="task.detail.hero.loadingDesc">
          Details will appear here.
        </p>
      </section>

      <section class="section">
        <div class="layout-grid">
          <div>
            <div class="card">
              <h3 data-i18n-key="task.detail.info.title">Task information</h3>
              <p class="hero-sub" id="task-desc">
                Th&#244;ng tin nhi&#7879;m v&#7909; s&#7869; hi&#7875;n th&#7883; khi c&#243; d&#7919; li&#7879;u.
              </p>
              <div class="meta-row" style="margin-top: 18px;">
                <span class="price" id="task-reward">--</span>
                <span class="badge-soft" id="task-status">--</span>
              </div>
            </div>
          </div>
          <div>
            <div class="card">
              <h3 data-i18n-key="task.detail.report.title">Submit report</h3>
              <p class="hero-sub" data-i18n-key="task.detail.report.desc">N&#7897;p b&#7857;ng ch&#7913;ng ho&#224;n th&#224;nh nhi&#7879;m v&#7909;.</p>
              <div class="form-grid">
                <div class="form-field">
                  <label for="task-contact" data-i18n-key="task.detail.report.contactLabel">Email / Username</label>
                  <input
                    id="task-contact"
                    placeholder="you@example.com"
                    data-i18n-placeholder="task.detail.report.contactPlaceholder"
                  />
                </div>
                <div class="form-field">
                  <label for="task-proof" data-i18n-key="task.detail.report.proofLabel">Proof link</label>
                  <input
                    id="task-proof"
                    placeholder="e.g. post link, video"
                    data-i18n-placeholder="task.detail.report.proofPlaceholder"
                  />
                </div>
                <div class="form-field">
                  <label for="task-note" data-i18n-key="task.detail.report.noteLabel">Additional note</label>
                  <textarea
                    id="task-note"
                    placeholder="Briefly describe the work done..."
                    data-i18n-placeholder="task.detail.report.notePlaceholder"
                  ></textarea>
                </div>
                <button class="btn primary" type="button" data-i18n-key="task.detail.report.submit">
                  G&#7917;i b&#225;o c&#225;o
                </button>
                <div class="empty-state">
                  <strong data-i18n-key="task.detail.report.mockTitle">L&#432;u &#253;:</strong>
                  <span data-i18n-key="task.detail.report.mockDesc">
                    B&#225;o c&#225;o s&#7869; &#273;&#432;&#7907;c ghi nh&#7853;n v&#224; c&#7853;p nh&#7853;t tr&#7841;ng th&#225;i.
                  </span>
                </div>
              </div>
            </div>
          </div>
        </div>
      </section>

      <footer>
        <div class="footer-grid">
          <div>
            <h4>About polyflux.xyz</h4>
            <p>
              The #1 trusted marketplace for digital assets on polyflux.xyz. Buy accounts, emails, tools and more with
              instant delivery.
            </p>
          </div>
          <div>
            <h4>&#272;i&#7873;u h&#432;&#7899;ng</h4>
            <p><a href="/sanpham/">S&#7843;n ph&#7849;m</a></p>
            <p><a href="/dichvu/">D&#7883;ch v&#7909;</a></p>
            <p><a href="/nhiemvu/">Nhi&#7879;m v&#7909; marketplace</a></p>
            <p><a href="/profile/">T&#224;i kho&#7843;n c&#7911;a t&#244;i</a></p>
          </div>
          <div>
            <h4>Thanh to&#225;n &amp; b&#7843;o m&#7853;t</h4>
            <p>20+ ph&#432;&#417;ng th&#7913;c thanh to&#225;n, x&#7917; l&#253; t&#7921; &#273;&#7897;ng.</p>
            <p>L&#7883;ch s&#7917; &#273;&#417;n h&#224;ng minh b&#7841;ch.</p>
            <p>2FA &amp; c&#7843;nh b&#225;o &#273;&#259;ng nh&#7853;p kh&#7843; nghi.</p>
          </div>
          <div>
            <h4 data-task-cta-title>Xin quy&#7873;n &#273;&#259;ng b&#224;i</h4>
            <p data-task-cta-desc>B&#7841;n mu&#7889;n xin quy&#7873;n &#273;&#259;ng b&#224;i nhi&#7879;m v&#7909;?</p>
            <a
              href="/nhiemvu/tao/"
              class="btn primary"
              data-task-cta
              style="margin-top: 8px; display: inline-flex; align-items: center; gap: 6px;"
            >
              Xin quy&#7873;n &#273;&#259;ng b&#224;i
            </a>
          </div>
        </div>
      </footer>
    </main>

    <nav class="mobile-nav">
      <div class="mobile-nav-top">
        <a href="/" class="mobile-brand" style="display: flex; align-items: center; gap: 10px; text-decoration: none;">
          <img src="../../asset/logo.png" alt="PolyFlux" />
          <span>polyflux<b>.xyz</b></span>
        </a>
        <div class="mobile-actions">
                    <button class="btn balance-btn" data-balance type="button">0 VND</button>
          <a class="btn login-btn" href="/login/">Login</a>
        
          <button class="menu-btn" id="mobile-menu" type="button" aria-label="Menu">
            <svg width="18" height="18" viewBox="0 0 24 24" aria-hidden="true">
              <path d="M4 6h16M4 12h16M4 18h16" stroke="currentColor" stroke-width="2" stroke-linecap="round" />
            </svg>
          </button>
        </div>
      </div>
      <div class="mobile-links">
        <a href="/sanpham/" data-nav="sanpham">S&#7843;n Ph&#7849;m</a>
        <a href="/dichvu/" data-nav="dichvu">D&#7883;ch V&#7909;</a>
        <a href="/nhiemvu/" data-nav="nhiemvu">Nhi&#7879;m V&#7909;</a>
        <a href="/profile/topups/" data-nav="topups">N&#7841;p ti&#7873;n</a>
      </div>
    </nav>

    <script src="../../asset/render.js"></script>
    <script>
      (async function initTask() {
        let currentLanguage = typeof getCurrentLanguage === "function" ? getCurrentLanguage() : "vi";
        const t = (key, fallback, vars) =>
          typeof formatI18n === "function" ? formatI18n(currentLanguage, key, fallback, vars) : fallback || key;

        const params = new URLSearchParams(window.location.search);
        let id = params.get("id");
        if (!id) {
          const parts = window.location.pathname.split("/").filter(Boolean);
          const last = parts[parts.length - 1];
          if (last && last !== "[id]") id = last;
        }

        const data = await loadJSON("../../data/mock-tasks.json");
        let currentTask = data.find((t) => t.id === id) || data[0];
        const renderTask = (task) => {
          const titleEl = document.getElementById("task-title");
          const subEl = document.getElementById("task-sub");
          const descEl = document.getElementById("task-desc");
          if (!task) {
            if (titleEl) titleEl.textContent = t("task.detail.notFound", "Task not found");
            if (subEl) {
              subEl.textContent = t("task.detail.noData", "No data yet. Please try again later.");
            }
            if (descEl) descEl.textContent = "";
            return;
          }

          const titleKey = task.id ? `task.data.${task.id}.title` : "";
          const shortKey = task.id ? `task.data.${task.id}.short` : "";
          const taskTitle = titleKey ? t(titleKey, task.title || t("task.detail.titleFallback", "Task")) : task.title || t("task.detail.titleFallback", "Task");
          const taskShort = shortKey ? t(shortKey, task.short || "") : task.short || "";
          if (titleEl) titleEl.textContent = taskTitle;
          if (subEl) {
            subEl.textContent =
              taskShort || t("task.detail.fallback.summary", "Detailed task description will appear here.");
          }
          if (descEl) {
            descEl.textContent =
              task.long ||
              taskShort ||
              t("task.detail.fallback.description", "Detailed information will be updated when available.");
          }

          const rewardEl = document.getElementById("task-reward");
          if (rewardEl) {
            rewardEl.textContent = formatPrice(task.reward);
            rewardEl.dataset.baseCurrency = "VND";
            rewardEl.dataset.baseAmount = String(task.reward ?? 0);
            if (window.BKCurrency && typeof window.BKCurrency.applyToDom === "function") {
              window.BKCurrency.applyToDom(rewardEl.parentElement || rewardEl);
            }
          }
          const statusEl = document.getElementById("task-status");
          if (statusEl) {
            statusEl.textContent = task.statusKey ? t(task.statusKey, task.status || t("task.status.open", "Open")) : task.status || t("task.status.open", "Open");
          }
        };

        renderTask(currentTask);

        document.addEventListener("bk:i18n", (event) => {
          currentLanguage =
            (event && event.detail && event.detail.language) ||
            (typeof getCurrentLanguage === "function" ? getCurrentLanguage() : currentLanguage);
          renderTask(currentTask);
        });
      })();
    </script>
  </body>
</html>





